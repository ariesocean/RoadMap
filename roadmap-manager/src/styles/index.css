@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    box-sizing: border-box;
  }

  html, body, #root {
    height: 100%;
    margin: 0;
    padding: 0;
  }

  body {
    @apply bg-background text-primary-text font-sans antialiased transition-colors duration-300;
  }

  .dark body,
  body.dark {
    @apply bg-dark-background text-dark-primary-text;
  }

  html.dark {
    @apply bg-dark-background;
  }

  html.dark body {
    @apply bg-dark-background text-dark-primary-text;
  }
}

@layer components {
  .card {
    @apply bg-card-bg border border-card-border rounded-lg p-4 shadow-card transition-all duration-200;
  }

  .dark .card {
    @apply bg-dark-card-bg border-dark-card-border shadow-dark-card;
  }

  .card:hover {
    @apply shadow-card-hover -translate-y-0.5;
  }

  .dark .card:hover {
    @apply shadow-dark-card-hover;
  }

  .btn-primary {
    @apply bg-primary text-white px-4 py-2 rounded-md hover:opacity-90 transition-opacity;
  }

  .input-field {
    @apply border border-border-color rounded-lg px-4 py-3 bg-white focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary transition-all;
  }

  .dark .input-field {
    @apply bg-dark-secondary-bg border-dark-border-color text-dark-primary-text focus:ring-primary;
  }

  .header {
    @apply bg-white border-b border-border-color;
  }

  .dark .header {
    @apply bg-dark-card-bg border-dark-border-color;
  }

  .search-input {
    @apply border border-border-color rounded-md bg-secondary-bg focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary transition-all;
  }

  .dark .search-input {
    @apply bg-dark-secondary-bg border-dark-border-color text-dark-primary-text focus:ring-primary;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #E1DFDD transparent;
  }

  .dark .scrollbar-thin {
    scrollbar-color: #3D3D3D transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #E1DFDD;
    border-radius: 3px;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #3D3D3D;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .animation-delay-100 {
    animation-delay: 100ms;
  }

  .animation-delay-200 {
    animation-delay: 200ms;
  }

  .animation-delay-300 {
    animation-delay: 300ms;
  }

  /* Gradient border animation for processing state */
  .gradient-border-animation {
    background: linear-gradient(
      90deg,
      #0078D4,
      #6366F1,
      #8B5CF6,
      #06B6D4,
      #0078D4
    );
    background-size: 400% 400%;
    animation: gradient-flow 3s ease infinite;
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    padding: 2px;
    border-radius: inherit;
  }

  /* Safari-compatible gradient border using pseudo-element */
  .gradient-border-safari {
    position: relative;
    background: transparent;
    border-radius: inherit;
  }

  .gradient-border-safari::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(
      90deg,
      #0078D4,
      #6366F1,
      #8B5CF6,
      #06B6D4,
      #0078D4
    );
    background-size: 400% 400%;
    animation: gradient-flow 3s ease infinite;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  /* Animated gradient line for processing state */
  .gradient-line-animation {
    background: linear-gradient(
      90deg,
      transparent 0%,
      #0078D4 20%,
      #6366F1 40%,
      #8B5CF6 60%,
      #06B6D4 80%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: gradient-line-flow 2s linear infinite;
  }

  @keyframes gradient-line-flow {
    0% {
      background-position: 100% 0%;
    }
    100% {
      background-position: -100% 0%;
    }
  }

  @keyframes gradient-flow {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  /* Alternative subtle pulse for dark mode */
  @keyframes subtle-pulse {
    0%, 100% {
      opacity: 0.6;
    }
    50% {
      opacity: 1;
    }
  }

  .processing-glow {
    animation: subtle-pulse 2s ease-in-out infinite;
    box-shadow: 0 0 20px rgba(0, 120, 212, 0.3), 0 0 40px rgba(99, 102, 241, 0.2);
  }
}